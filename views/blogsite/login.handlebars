<!--==========================
    Header Section
============================-->
<section class="page-image page-image-contact md-padding">
</section>

<!--==========================
    Login Section
============================-->
<section id="contact" class="md-padding">

    <div class="container">

        <div class="row text-center">
            <div class="col-md-4 offset-md-4">
                <div class="section-header">
                    <h2 class="title">Giriş Yap</h2>
                </div>
            </div>
        </div>

        <div class="row">

            <div class="col-lg-12">


                {{#if sessionMessage.message}}
                <div class="{{sessionMessage.type}}" id="sessionMessage">
                    {{sessionMessage.message}} <a href="" class="delete-item float-right"><i
                            class="fa fa-times"></i></a>
                </div>
                {{/if}}


                <form action="/users/login" method="POST">
                    <div class="row">
                        <div class="col-md-6 offset-md-3">
                            <div class="form-group">
                                <input class="form-control" id="userEmail" name="email" type="email"
                                    placeholder="E-Posta *" required="required"
                                    data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="userPassword" name="password" type="password"
                                    placeholder="Parola *" required="required"
                                    data-validation-required-message="Please enter your pasword.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="form-group">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="checkBox" class=""
                                            onclick="if(this.checked){setStorage()}else{deleteStorage()}"
                                            aria-label="Checkbox for following text input">
                                    </div>
                                    <span class="p-1">Beni hatırla</span>
                                </div>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="col-md-6 offset-md-3 clearfix">
                            * Zorunlu alanları belirtir.
                        </div>
                        <div class="col-md-4 offset-md-4 text-center mt-3">
                            <button type="submit" id="sendLoginButton" class="btn btn-success btn-block">Giriş</button>
                        </div>
                        <div class="col-md-4 offset-md-4 text-center mt-3">
                            <a href="/users/register" id="sendLoginButton" class="btn btn-danger btn-block">Hesabım
                                yok</a>
                        </div>
                        <div class="col-md-4 offset-md-4 text-center mt-3">
                            <a href="/contact/forgotpassword" id="sendLoginButton" class="btn btn-warning btn-block">Şifremi
                                unuttum
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    let userEmail = document.getElementById("userEmail");
    let userPassword = document.getElementById("userPassword");
    let checkBox = document.getElementById("checkBox");
    function setStorage() {
        userEmail.addEventListener("change", function () {
            localStorage.setItem("email", userEmail.value);
        })
        userPassword.addEventListener("change", function () {
            localStorage.setItem("password", userPassword.value);
        })
        localStorage.setItem("email", userEmail.value);
        localStorage.setItem("password", userPassword.value);
        localStorage.setItem("isChecked", true);
    }

    function deleteStorage() {
        localStorage.clear();
        userEmail.value = "";
        userPassword.value = "";
    }
    userEmail.value = localStorage.getItem("email");
    userPassword.value = localStorage.getItem("password");
    checkBox.checked = localStorage.getItem("isChecked");
</script>